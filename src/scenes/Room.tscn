[gd_scene load_steps=22 format=2]

[ext_resource path="res://assets/models/MrP/MrP.obj" type="ArrayMesh" id=1]
[ext_resource path="res://assets/models/MrP/MrP.png" type="Texture" id=2]
[ext_resource path="res://environment/Main.tres" type="Environment" id=3]
[ext_resource path="res://assets/models/Objects/board.obj" type="ArrayMesh" id=4]
[ext_resource path="res://assets/models/Classroom/empty-classroom.obj" type="ArrayMesh" id=5]
[ext_resource path="res://assets/models/Classroom/empty-classroom.png" type="Texture" id=6]
[ext_resource path="res://assets/models/Objects/board.png" type="Texture" id=7]
[ext_resource path="res://scenes/furniture/Table.tscn" type="PackedScene" id=8]
[ext_resource path="res://assets/models/Objects/lamp.obj" type="ArrayMesh" id=9]
[ext_resource path="res://scenes/furniture/Plant.tscn" type="PackedScene" id=10]
[ext_resource path="res://assets/models/Objects/lamp.png" type="Texture" id=11]
[ext_resource path="res://assets/models/Objects/lamp-emission.png" type="Texture" id=12]
[ext_resource path="res://assets/models/Objects/table.obj" type="ArrayMesh" id=15]
[ext_resource path="res://assets/models/Objects/table.png" type="Texture" id=16]

[sub_resource type="GDScript" id=1]
script/source = "extends Camera


onready var goalPos = global_transform.origin.x

func _process(delta):
	if Input.is_action_pressed(\"ui_left\"):
		goalPos -= 0.1
	if Input.is_action_pressed(\"ui_right\"):
		goalPos += 0.1
	global_transform.origin.x = lerp(global_transform.origin.x, goalPos, 0.3)
	print(get_parent().get_node(\"Table\").global_transform.origin)
"

[sub_resource type="SpatialMaterial" id=2]
albedo_texture = ExtResource( 16 )

[sub_resource type="SpatialMaterial" id=3]
albedo_texture = ExtResource( 6 )

[sub_resource type="BoxShape" id=4]
extents = Vector3( 7.2, 1, 7.4 )

[sub_resource type="SpatialMaterial" id=5]
albedo_texture = ExtResource( 2 )

[sub_resource type="SpatialMaterial" id=6]
albedo_texture = ExtResource( 7 )

[sub_resource type="SpatialMaterial" id=7]
albedo_texture = ExtResource( 11 )
emission_enabled = true
emission = Color( 0, 0, 0, 1 )
emission_energy = 1.81
emission_operator = 0
emission_on_uv2 = false
emission_texture = ExtResource( 12 )

[node name="Room" type="Spatial"]

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, 0.418255, 5.30279, 2.62146 )
environment = ExtResource( 3 )
current = true
near = 1.0
script = SubResource( 1 )

[node name="table3" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.60658, 0.304015, -1.5113 )
mesh = ExtResource( 15 )
material/0 = SubResource( 2 )

[node name="table2" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.14975, 0.202677, -1.42618 )
mesh = ExtResource( 15 )
material/0 = SubResource( 2 )

[node name="table" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.55542, 0.101338, -1.3742 )
mesh = ExtResource( 15 )
material/0 = SubResource( 2 )

[node name="StaticBody" type="StaticBody" parent="."]

[node name="empty-classroom" type="MeshInstance" parent="StaticBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0, 0 )
mesh = ExtResource( 5 )
material/0 = SubResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="StaticBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.8, -7.4 )
shape = SubResource( 4 )

[node name="MrP" type="MeshInstance" parent="."]
transform = Transform( 0.908711, 0, 0.417423, 0, 1, 0, -0.417423, 0, 0.908711, -2.26071, 0.14, -10 )
mesh = ExtResource( 1 )
material/0 = SubResource( 5 )

[node name="board" type="MeshInstance" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.43193, 2.90782, -12.5122 )
mesh = ExtResource( 4 )
material/0 = SubResource( 6 )

[node name="lamp" type="MeshInstance" parent="."]
transform = Transform( 0.998431, -0.00877797, 0.0553032, 0.00759462, 0.999738, 0.0215715, -0.0554781, -0.0211176, 0.998236, 0.2221, 5.82146, -7.82916 )
layers = 2
mesh = ExtResource( 9 )
material/0 = SubResource( 7 )

[node name="Plant" parent="." instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.8, 2.06, -7.6 )

[node name="SpotLight" type="SpotLight" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.6, 6.2, -8.32 )
light_color = Color( 1, 0.945098, 0.635294, 1 )
light_energy = 0.52
shadow_enabled = true
shadow_bias = 16.0
spot_range = 17.4
spot_attenuation = 0.225313
spot_angle = 46.8

[node name="SpotLight2" type="SpotLight" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0.6, 7.4, -8.32 )
light_color = Color( 0.937255, 0.87451, 0.521569, 1 )
light_energy = 1.65
shadow_enabled = true
shadow_bias = -16.0
spot_range = 110.5
spot_attenuation = 0.225313
spot_angle = 85.1
spot_angle_attenuation = 1.68179

[node name="OmniLight" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.4, -1.4 )
light_color = Color( 1, 0.913725, 0, 1 )
light_energy = 0.5
light_cull_mask = 4294967293
shadow_enabled = true
omni_range = 14.9
omni_attenuation = 0.840897

[node name="Table" parent="." instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.6, 1.4, -8.2 )
